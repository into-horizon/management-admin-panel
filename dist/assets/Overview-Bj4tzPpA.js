import{r as n,j as e,ab as x,aC as P,aD as _,aE as q,ac as D,P as S,Q as r,af as l,aF as C,aG as w,cb as H,m as M,n as N,cc as A,bB as y,ae as F,cd as T,ce as R,aN as B,cf as I,aa as O,cg as V}from"./index-48Ud3P6g.js";import{C as k}from"./index.esm-CyPqoXYn.js";import{c as X}from"./cil-plus-DmDyxMpI.js";import{c as z}from"./cil-trash-Bi1lSbbJ.js";import{F as G,a as L}from"./FilterCard-D5uFsBWP.js";import{T as Q}from"./Table-BMwozXSY.js";import{D as W}from"./DeleteModal-Bo2mqpaY.js";import"./cil-filter-x-DEIlHx5l.js";import"./cil-search-C59ySTwT.js";import"./Paginator-C-gW1K4z.js";import"./lodash-BeNFXnYs.js";import"./cil-check-CLln4ywF.js";const Y=()=>{const[h,d]=n.useState(!1),[o,c]=n.useState(!1),a=()=>{d(!1),c(!1)},j=m=>{m.preventDefault();const v=["email","password","first_name","last_name","role","mobile"],u={email:"",password:"",first_name:"",last_name:"",role:"",mobile:""},p=m.target;v.forEach(s=>{p[s].value&&(u[s]=p[s].value)}),H(u),a()};return e.jsxs(e.Fragment,{children:[e.jsxs(x,{onClick:()=>d(!0),children:[e.jsx(k,{icon:X,size:"lg"}),"Add Employee"]}),e.jsxs(P,{visible:h,onClose:a,alignment:"center",children:[e.jsx(_,{children:e.jsx(q,{children:"Add Employee"})}),e.jsxs(D,{onSubmit:j,children:[e.jsxs(S,{xs:{gutter:3},className:"justify-content-center m-1",children:[e.jsx(r,{xs:5,children:e.jsx(l,{placeholder:"first name",id:"first_name",required:!0})}),e.jsx(r,{xs:5,children:e.jsx(l,{placeholder:"last name",id:"last_name",required:!0})}),e.jsx(r,{xs:5,children:e.jsx(l,{placeholder:"email",id:"email",required:!0})}),e.jsx(r,{xs:5,children:e.jsx(l,{placeholder:"password",id:"password",required:!0})}),e.jsx(r,{xs:5,children:e.jsx(l,{placeholder:"mobile",type:"tel",id:"mobile",required:!0})}),e.jsx(r,{xs:5,children:e.jsxs(C,{id:"role",onClick:()=>c(!0),required:!0,children:[e.jsx("option",{value:"",disabled:o,children:"select role"}),e.jsx("option",{value:"supervisor",children:"supervisor"}),e.jsx("option",{value:"moderator",children:"moderator"}),e.jsx("option",{value:"advisor",children:"advisor"})]})})]}),e.jsxs(w,{children:[e.jsx(x,{type:"submit",color:"primary",children:"Submit"}),e.jsx(x,{color:"secondary",onClick:a,children:"Close"})]})]})]})]})},ie=()=>{const{data:h,count:d,params:o,loading:c}=M(s=>s.employee),a=N();n.useEffect(()=>{a(A())},[o]);const j=({id:s})=>{const[t,i]=n.useState(!1);return e.jsxs(n.Fragment,{children:[e.jsx(O,{content:"delete",children:e.jsx(x,{color:"danger",onClick:f=>i(!0),children:e.jsx(k,{icon:z})})}),e.jsx(W,{visible:t,onClose:()=>i(!1),onDelete:()=>a(p(s))})]})},m=[{header:"name",field:"name",body:s=>e.jsx("span",{children:s.name})},{header:"role",field:"role"},{header:"email",field:"email",edit:{inputType:y.TEXT}},{header:"active",field:"active",body:s=>{var t;return(t=s.active)==null?void 0:t.toString()},edit:{inputType:y.DROPDOWN,options:[{value:"true",name:"true"},{value:"false",name:"false"}]}},{header:"mobile",field:"mobile",edit:{inputType:y.TEXT}}],v=s=>{s.preventDefault();const t=["key","role","active"],i=s.target;let f={...o};t.map(b=>{var g,E;(g=i[b])!=null&&g.value&&(f[b]=(E=i[b])==null?void 0:E.value)}),a(T(f))},u=s=>{s.target.reset(),a(I())},p=async s=>{a(V(s))};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsx(G,{children:e.jsx(D,{onSubmit:v,onReset:u,children:e.jsxs(S,{className:"justify-content-center",xs:{gutterY:3},children:[e.jsx(r,{xs:12,children:e.jsx(l,{placeholder:"search by name, email or mobile number",id:"key"})}),e.jsxs(r,{xs:"auto",children:[e.jsx(F,{htmlFor:"active",children:"active"}),e.jsxs(C,{id:"active",children:[e.jsx("option",{value:"true",children:"true"}),e.jsx("option",{value:"false",children:"false"})]})]}),e.jsxs(r,{xs:"auto",children:[e.jsx(F,{htmlFor:"role",children:"role"}),e.jsxs(C,{id:"role",children:[e.jsx("option",{value:"",children:"all"}),e.jsx("option",{value:"admin",children:"admin"}),e.jsx("option",{value:"supervisor",children:"supervisor"}),e.jsx("option",{value:"moderator",children:"moderator"}),e.jsx("option",{value:"advisor",children:"advisor"})]})]}),e.jsx(r,{xs:12,children:e.jsx(L,{})})]})})}),e.jsx(Q,{data:h,columns:m,cookieName:"employees",count:d,loading:c,editable:!0,editFn:R,Actions:j,onPageChange:s=>T(B(o,s))})]})};export{ie as Overview,ie as default};
