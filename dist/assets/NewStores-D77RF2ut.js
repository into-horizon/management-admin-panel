import{bT as h,r,j as e,R as f,aa as x,ab as u,aC as C,aD as g,ac as S,P as b,Q as p,aF as v,af as P,aG as F,bU as _,m as T}from"./index-48Ud3P6g.js";import{C as y}from"./index.esm-CyPqoXYn.js";import{c as D}from"./cil-pencil-esS0QKUH.js";import{c as j}from"./connect-C6z2JEc3.js";import{T as M}from"./Table-BMwozXSY.js";import"./Paginator-C-gW1K4z.js";import"./lodash-BeNFXnYs.js";import"./cil-check-CLln4ywF.js";const R=t=>{const[c,n]=r.useState(!1),[l,o]=r.useState(""),s=()=>{o(""),n(!1)},d=a=>{var m;a.preventDefault();const i=a.target;t.updateStoreStatusHandler({...t,status:i.status.value,rejected_reason:(m=i.rejected_reason)==null?void 0:m.value},"pending"),s()};return e.jsxs(f.Fragment,{children:[e.jsx(x,{content:"update status",children:e.jsx(u,{onClick:()=>n(!0),color:"link",children:e.jsx(y,{icon:D})})}),e.jsxs(C,{visible:c,alignment:"center",onClose:s,children:[e.jsx(g,{children:`Update ${t.store_name} Status`}),e.jsxs(S,{onSubmit:d,children:[e.jsxs(b,{xs:{gutterY:3},className:"justify-content-center padding",children:[e.jsx(p,{xs:7,children:e.jsxs(v,{id:"status",onChange:a=>o(a.target.value),children:[e.jsx("option",{value:"approved",children:"Approve"}),e.jsx("option",{value:"rejected",children:"Reject"})]})}),l==="rejected"&&e.jsx(p,{xs:9,children:e.jsx(P,{id:"rejected_reason",placeholder:"rejected reason",required:!0})})]}),e.jsxs(F,{children:[e.jsx(u,{color:"primary",type:"submit",children:"Submit"}),e.jsx(u,{color:"secondary",onClick:s,children:"Close"})]})]})]})]})},k={updateStoreStatusHandler:h},H=j(null,k)(R),N=({getPendingStores:t})=>{const{data:c,count:n}=T(i=>i.stores.pending),[l,o]=r.useState(!0),[s,d]=r.useState({limit:10,offset:0});r.useEffect(()=>{Promise.all([t(s)]).then(()=>o(!1))},[]);const a=[{header:"store name",field:"store_name"},{header:"email verified",field:"verified_email"},{header:"mobile",field:"mobile"},{header:"status",field:"status"},{header:"verification code",field:"verification_code"},{header:"action",field:"action",body:H}];return e.jsx(e.Fragment,{children:e.jsx(M,{data:c,count:n,loading:l,columns:a,params:s,changeData:t,updateParams:d,updateLoading:o,cookieName:"pending"})})},$={getPendingStores:_},G=j(null,$)(N);export{G as default};
