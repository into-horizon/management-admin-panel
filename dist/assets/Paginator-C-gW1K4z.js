import{r as x,e as C,j as n,cn as I,co as E}from"./index-48Ud3P6g.js";import{_ as O}from"./lodash-BeNFXnYs.js";const R=({count:b,changeData:j,cookieName:o,params:l,updateParams:h,updateLoading:f,onPageChange:d,pageNumber:S,pageSize:u})=>{const[P,r]=x.useState([]),[i,M]=x.useState((o&&C.load(o)?+C.load(o):S??1)??1),w=5;let t=Math.ceil(b/((l==null?void 0:l.limit)??u??5)||1);x.useEffect(()=>{t=Math.ceil(b/((l==null?void 0:l.limit)??u??5)||1);let e=[];if(t<i&&M(1),t<w)e=O.range(1,t+1);else{let s=[1,2,3],c=[t-2,t-1,t];i===1?e=[...s,"...",...c]:i===t?e=[...s,"...",...c]:s.includes(i)?e=[1,i-1,i,i+1,"...",...c]:c.includes(i)?e=[1,...s,"...",i-1,i,i+1,t]:s.includes(i-1)?e=[...s.splice(0,2),i-1,i,i+1,"....",...c.slice(1)]:c.includes(i+1)?e=[...s.splice(0,2),"...",i-1,i,i+1,...c.slice(1)]:e=[...s.splice(0,2),"...",i-1,i,i+1,"....",...c.slice(1)]}r(()=>e.filter((s,c,A)=>A.indexOf(s)===c))},[b,i,l]);const y=async e=>{M(e),o&&C.save(o,e,{path:"/"}),f==null||f(!0),await(j==null?void 0:j({...l,limit:(l==null?void 0:l.limit)??5,offset:((l==null?void 0:l.limit)??5)*(e-1)})),f==null||f(!1),h==null||h({...l,limit:(l==null?void 0:l.limit)??5,offset:((l==null?void 0:l.limit)??5)*(e-1)}),d==null||d(e)};return n.jsxs(I,{"aria-label":"Page navigation example",className:"paginator",children:[n.jsx(E,{"aria-label":"Previous",onClick:()=>y(i-1<1?1:i-1),disabled:i===1,children:n.jsx("span",{"aria-hidden":"true",children:"«"})}),x.Children.toArray(P.map(e=>n.jsx(E,{disabled:typeof e=="string"&&e.includes("."),active:i===e,onClick:()=>typeof e=="number"&&y(e),children:e}))),n.jsx(E,{"aria-label":"Next",onClick:()=>y(i+1>P.length?P.length:i+1),disabled:i===t,children:n.jsx("span",{"aria-hidden":"true",children:"»"})})]})},k=x.memo(R);export{k as P};
