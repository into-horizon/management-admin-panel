import{r as c,n as T,m as k,j as e,aK as w,aS as h,aT as u,aU as l,aV as r,aW as m,aX as n,aC as F,ab as p,k as R,R as M,aD as O,ac as z,P as A,Q as C,aF as g,aG as H,bs as q}from"./index-48Ud3P6g.js";import B from"./Pdf-DyouSArg.js";import{C as L}from"./CopyableText-CpXrf0Nf.js";const N="/assets/default-store-350x350-DuomZ5Bv.jpg",$=({data:v,loading:b,type:f})=>{const[i,d]=c.useState(""),[y,o]=c.useState(""),D=T(),{isUpdating:S}=k(a=>a.orders),x=()=>{d(""),o("")},_=(a,t)=>{var j;a.preventDefault();const s=a.target;D(q({...t,status:s.status.value,cancellation_reason:(j=s.cancellation_reason)==null?void 0:j.value})),x()},I=({item:a})=>{const{entitle:t}=a;return e.jsxs(M.Fragment,{children:[e.jsx(O,{children:t}),e.jsxs(z,{onSubmit:s=>_(s,a),children:[e.jsxs(A,{children:[e.jsx(C,{md:11,children:e.jsxs(g,{id:"status",onChange:s=>d(s.target.value),className:"m-2-1rem",value:i,children:[e.jsx("option",{value:"accepted",children:"approve"}),e.jsx("option",{value:"canceled",children:"reject"})]})}),i==="canceled"&&e.jsx(C,{md:11,className:"m-2-1rem",children:e.jsxs(g,{id:"cancellation_reason",required:i==="canceled",children:[e.jsx("option",{value:"incorrect item",children:"incorrect item"}),e.jsx("option",{value:"out of stock",children:"out of stock"}),e.jsx("option",{value:"defective",children:"defective"})]})})]}),e.jsx(H,{children:e.jsx(p,{type:"submit",children:"submit"})})]})]})};return e.jsx(e.Fragment,{children:b?e.jsx(w,{}):v.map((a,t)=>e.jsxs("div",{id:"orders",style:{border:"1px solid black",backgroundColor:"white",borderRadius:"2rem",padding:"2rem",margin:"2rem 0"},children:[e.jsx("h5",{children:"order details"}),e.jsxs(h,{children:[e.jsx(u,{children:e.jsxs(l,{children:[e.jsx(r,{children:"Order ID"}),e.jsx(r,{children:"customer Name"}),e.jsx(r,{children:"grand total"}),e.jsx(r,{children:"place order date"}),e.jsx(r,{children:"delivery date order date"}),e.jsx(r,{children:"status"})]})}),e.jsx(m,{children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsx(L,{data:a,field:"customer_order_id"})}),e.jsx(n,{children:`${a.first_name} ${a.last_name}`}),e.jsx(n,{children:a.grand_total}),e.jsx(n,{children:new Date(a.created_at).toLocaleDateString()}),e.jsx(n,{children:a.updated?new Date(a.updated).toLocaleDateString():"-"}),e.jsx(n,{children:a.status})]})})]}),e.jsx("h6",{children:"order items"}),e.jsx("div",{children:e.jsxs(h,{align:"middle",children:[e.jsx(u,{children:e.jsxs(l,{children:[e.jsx(r,{children:"image"}),e.jsx(r,{children:"Title"}),e.jsx(r,{children:"price"}),e.jsx(r,{children:"quantity"}),e.jsx(r,{children:"size"}),e.jsx(r,{children:"size"}),e.jsx(r,{children:"store"}),e.jsx(r,{children:"status"}),f==="pending"&&e.jsx(r,{children:"action"})]})}),e.jsx(m,{children:c.Children.toArray(a.items.map(s=>e.jsxs(l,{children:[e.jsx(n,{children:s&&e.jsx("img",{style:{width:"7rem"},src:s.picture??N,alt:"img"})}),e.jsx(n,{children:s.entitle}),e.jsx(n,{children:s.price}),e.jsx(n,{children:s.quantity}),e.jsx(n,{children:s.size??"-"}),e.jsx(n,{children:s.color??"-"}),e.jsx(n,{children:s.store_name}),e.jsx(n,{children:s.status}),s.status==="pending"&&e.jsxs(n,{children:[e.jsx(F,{visible:y===s.id,alignment:"center",onClose:x,children:e.jsx(I,{item:s})}),e.jsx(p,{color:"secondary",onClick:()=>o(s.id),children:S?e.jsx(R,{color:"light",size:"sm"}):"action"})]})]})))})]})}),e.jsx(B,{order:a})]},t))})};export{$ as O};
