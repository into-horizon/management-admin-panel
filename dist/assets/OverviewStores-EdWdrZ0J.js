import{bV as A,bW as D,bT as O,bX as I,m as L,r as d,j as e,bB as v,ac as X,P as b,Q as a,af as q,ae as i,aF as n,aa as g,ab as c,R as B,bY as V}from"./index-48Ud3P6g.js";import{C as y}from"./index.esm-CyPqoXYn.js";import{c as W}from"./cil-filter-x-DEIlHx5l.js";import{c as Y}from"./cil-search-C59ySTwT.js";import{F as k}from"./FilterCard-D5uFsBWP.js";import{T as z}from"./Table-BMwozXSY.js";import{E as S}from"./EditableCell-Camwxqe5.js";import{c as Q}from"./connect-C6z2JEc3.js";import"./Paginator-C-gW1K4z.js";import"./lodash-BeNFXnYs.js";import"./cil-check-CLln4ywF.js";import"./cil-pencil-esS0QKUH.js";const U=({getStoresHandler:l,updateStoreStatusHandler:F,updateStoreHandler:_,updateStoreNameHandler:C})=>{const T={limit:10,offset:0},{data:P,count:R}=L(t=>t.stores.overview),[E,o]=d.useState(!0),[u,p]=d.useState({limit:10,offset:0});d.useEffect(()=>{Promise.all([l(u)]).then(()=>o(!1))},[]);const m=t=>e.jsx(B.Fragment,{children:e.jsx(V,{content:t[t.field],placement:"top",children:e.jsx(c,{color:"secondary",size:"sm",children:"Show"})})}),w=[{header:"store name",field:"store_name",body:t=>t.name_is_changed?e.jsx("span",{children:t.store_name}):e.jsx(S,{data:t,field:"store_name",action:C})},{header:"city",field:"city"},{header:"email verified",field:"verified_email",edit:{inputType:v.DROPDOWN,options:[{value:"false",name:"false"},{value:"true",name:"true"}]}},{header:"mobile",field:"mobile",edit:{inputType:v.TEXT}},{header:"status",field:"status",body:t=>e.jsx(S,{data:t,field:"status",type:"dropdown",options:[{value:"approved",name:"approved"},{value:"rejected",name:"rejected"},{value:"pending",name:"pending"}],action:s=>F(s,"overview")})},{header:"verification code",field:"verification_code"},{header:"performance rating%",field:"performance_rate"},{header:"sales rating",field:"sales_rate"},{header:"caption",field:"caption",body:t=>e.jsx(m,{...t,field:"caption"})},{header:"about",field:"about",body:t=>e.jsx(m,{...t,field:"about"})}],H=t=>{t.preventDefault(),o(!0);const s=t.target;let h={};["performance_rate","sales_rate","query","status","verified_email"].forEach(r=>{var x,j,f;(x=s[r])!=null&&x.value&&((j=s[r])==null?void 0:j.value)!==""&&typeof r=="string"&&(h[r]=(f=s[r])==null?void 0:f.value)}),l(h).then(()=>o(!1))},N=t=>{t.target.reset(),p(T)};return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsxs(X,{onSubmit:H,onReset:N,children:[e.jsxs(b,{className:"justify-content-center",xs:{gutterY:3},children:[e.jsx(a,{xs:12,children:e.jsx(q,{placeholder:"search by store name, mobile number or store email",id:"query"})}),e.jsxs(a,{xs:"auto",children:[e.jsx(i,{htmlFor:"performance",children:"Performance Rating"}),e.jsxs(n,{name:"performance",id:"performance_rate",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"90-100",children:"90-100"}),e.jsx("option",{value:"80-90",children:"80-90"}),e.jsx("option",{value:"70-80",children:"70-80"}),e.jsx("option",{value:"60-70",children:"60-70"}),e.jsx("option",{value:"50-60",children:"50-60"}),e.jsx("option",{value:"0-50",children:"less than 50"})]})]}),e.jsxs(a,{xs:"auto",children:[e.jsx(i,{htmlFor:"sales",children:"Sales Rating"}),e.jsxs(n,{name:"sales",id:"sales_rate",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"4-5",children:"4-5"}),e.jsx("option",{value:"3-4",children:"3-4"}),e.jsx("option",{value:"2-3",children:"2-3"}),e.jsx("option",{value:"1-2",children:"1-2"}),e.jsx("option",{value:"0-1",children:"0-1"})]})]}),e.jsxs(a,{xs:"auto",children:[e.jsx(i,{htmlFor:"status",children:"Status"}),e.jsxs(n,{name:"status",id:"status",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs(a,{xs:"auto",children:[e.jsx(i,{htmlFor:"email",children:"Email Status"}),e.jsxs(n,{name:"email",id:"verified_email",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Verified"}),e.jsx("option",{value:"false",children:"Unverified"})]})]}),e.jsx(a,{xs:12})]}),e.jsxs(b,{className:"justify-content-center",children:[e.jsx(a,{xs:"auto",children:e.jsx(g,{content:"search",children:e.jsx(c,{type:"submit",children:e.jsx(y,{icon:Y})})})}),e.jsx(a,{xs:"auto",children:e.jsx(g,{content:"clear filter",children:e.jsx(c,{color:"secondary",type:"reset",children:e.jsx(y,{icon:W})})})})]})]})}),e.jsx(z,{data:P,count:R,loading:E,columns:w,params:u,changeData:l,updateParams:p,cookieName:"stores",updateLoading:o,editable:!0,editFn:_})]})},$={getStoresHandler:I,updateStoreStatusHandler:O,updateStoreHandler:D,updateStoreNameHandler:A},le=Q(null,$)(U);export{le as default};
