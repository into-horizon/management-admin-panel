import{bO as T,bP as H,m as N,n as O,j as e,bB as l,r as D,bQ as E,ac as S,P as d,Q as i,af as R,ae as c,aF as u,aa as m,ab as p,bR as U,bS as f,aN as q}from"./index-48Ud3P6g.js";import{C as x}from"./index.esm-CyPqoXYn.js";import{c as I}from"./cil-filter-x-DEIlHx5l.js";import{c as _}from"./cil-search-C59ySTwT.js";import{E as h}from"./EditableCell-Camwxqe5.js";import{F as w}from"./FilterCard-D5uFsBWP.js";import{T as L}from"./Table-BMwozXSY.js";import{c as B}from"./connect-C6z2JEc3.js";import"./cil-check-CLln4ywF.js";import"./cil-pencil-esS0QKUH.js";import"./Paginator-C-gW1K4z.js";import"./lodash-BeNFXnYs.js";const Q=({updateProfileHandler:o,updateUserHandler:v})=>{const{count:j,data:b,isLoading:y,params:t}=N(a=>a.user),n=O(),g=[{header:"first name",field:"first_name",body:a=>e.jsx(h,{data:a.profile,field:"first_name",action:o})},{header:"last name",field:"last_name",body:a=>e.jsx(h,{data:a.profile,field:"last_name",action:o})},{header:"email",field:"email",edit:{inputType:l.EMAIL}},{header:"mobile number",field:"mobile",edit:{inputType:l.PHONE}},{header:"account status",field:"status",edit:{inputType:l.DROPDOWN,options:[{name:"activate",value:"active"},{name:"ban",value:"banned"}]}},{header:"verified",field:"verified",body:a=>a.verified.toString(),edit:{inputType:l.DROPDOWN,options:[{name:"unverified",value:"false"},{name:"verified",value:"true"}]}}],C=a=>{a.preventDefault();let r={};const s=a.target;s.query.value&&(r.query=s.query.value),s.status.value!=="false"&&(r.status=s.status.value),s.verified.value!==""&&(r.verified=s.verified.value==="true"),n(f({...t,...r}))},F=a=>{a.target.reset(),n(U())};function P(a){n(f(q(t,a)))}return D.useEffect(()=>{n(E())},[t]),e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsxs(S,{onSubmit:C,onReset:F,children:[e.jsxs(d,{xs:{gutterY:3},className:"justify-content-center",children:[e.jsx(i,{xs:12,children:e.jsx(R,{placeholder:"search by first name, last name, mobile or email",id:"query"})}),e.jsxs(i,{xs:"auto",children:[e.jsx(c,{htmlFor:"status",children:"status"}),e.jsxs(u,{name:"status",id:"status",children:[e.jsx("option",{value:"false",children:"all"}),e.jsx("option",{value:"active",children:"active"}),e.jsx("option",{value:"banned",children:"banned"}),e.jsx("option",{value:"deactivated",children:"deactivated"})]})]}),e.jsxs(i,{xs:"auto",children:[e.jsx(c,{htmlFor:"verified",id:"verified",children:"verified"}),e.jsxs(u,{name:"verified",children:[e.jsx("option",{value:"",children:"all"}),e.jsx("option",{value:"true",children:"verified"}),e.jsx("option",{value:"false",children:"unverified"})]})]}),e.jsx(i,{xs:12})]}),e.jsxs(d,{className:"justify-content-center",children:[e.jsx(i,{xs:"auto",children:e.jsx(m,{content:"search",children:e.jsx(p,{type:"submit",children:e.jsx(x,{icon:_})})})}),e.jsx(i,{xs:"auto",children:e.jsx(m,{content:"clear filter",children:e.jsx(p,{color:"secondary",type:"reset",children:e.jsx(x,{icon:I})})})})]})]})}),e.jsx(L,{params:t,count:j,data:b,pageNumber:t.offset,pageSize:t.limit,onPageChange:P,columns:g,loading:y,cookieName:"users",editable:!0,editFn:v})]})},W={updateProfileHandler:H,updateUserHandler:T},ee=B(null,W)(Q);export{Q as UsersOverview,ee as default};
